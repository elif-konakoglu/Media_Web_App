{"ast":null,"code":"import { Meeting } from 'src/Models/Meeting';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/services/meeting.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction HomeComponent_li_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"div\", 18)(2, \"div\")(3, \"h4\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"date\");\n    i0.ɵɵpipe(8, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(11, \"div\")(12, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function HomeComponent_li_4_Template_button_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const meeting_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.editMeeting(meeting_r1));\n    });\n    i0.ɵɵtext(13, \" Edit \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"button\", 20);\n    i0.ɵɵlistener(\"click\", function HomeComponent_li_4_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const meeting_r1 = restoredCtx.$implicit;\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.deleteMeeting(meeting_r1.id));\n    });\n    i0.ɵɵtext(15, \" Delete \");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const meeting_r1 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(meeting_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(7, 4, meeting_r1.startDate), \" to \", i0.ɵɵpipeBind1(8, 6, meeting_r1.endDate), \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(meeting_r1.description);\n  }\n}\nconst _c0 = function () {\n  return {\n    standalone: true\n  };\n};\nexport class HomeComponent {\n  constructor(meetingService) {\n    this.meetingService = meetingService;\n    this.meetings = [];\n    this.currentMeeting = new Meeting();\n    this.isEditing = false;\n    let localUserId = localStorage.getItem('userId');\n    if (localUserId !== null && localUserId !== undefined) {\n      this.userId = +localUserId;\n      this.getAll(this.userId);\n    }\n  }\n  onFileChange(event) {\n    const fileList = event.target.files;\n    if (fileList.length > 0) {\n      this.currentMeeting.document = fileList[0];\n    }\n  }\n  getAll(userId) {\n    this.meetingService.getAll(userId).subscribe(response => {\n      this.meetings = response;\n    }, error => {\n      console.log(error);\n    });\n  }\n  editMeeting(meeting) {\n    this.isEditing = true;\n    this.currentMeeting = {\n      ...meeting\n    };\n  }\n  deleteMeeting(meetingId) {\n    this.meetingService.delete(meetingId).subscribe(() => {\n      this.getAll(this.userId);\n    }, error => {\n      console.log(error);\n    });\n  }\n  saveMeeting() {\n    let formData = new FormData();\n    formData.append('Id', this.currentMeeting.id.toString());\n    formData.append('UserId', this.currentMeeting.userId.toString());\n    formData.append('Name', this.currentMeeting.name);\n    formData.append('Description', this.currentMeeting.description);\n    formData.append('StartDate', this.currentMeeting.startDate.toString());\n    formData.append('EndDate', this.currentMeeting.endDate.toString());\n    formData.append('Document', this.currentMeeting.document);\n    if (this.isEditing) {\n      this.updateMeeting(formData);\n      return;\n    }\n    this.createMeeting(formData);\n  }\n  updateMeeting(meeting) {\n    this.meetingService.update(meeting).subscribe(() => {\n      this.getAll(this.userId);\n    }, error => {\n      console.log(error);\n    });\n  }\n  createMeeting(meeting) {\n    this.meetingService.create(meeting).subscribe(() => {\n      this.getAll(this.userId);\n    }, error => {\n      console.log(error);\n    });\n  }\n  resetForm() {\n    this.isEditing = false;\n    this.currentMeeting = {\n      id: 0,\n      userId: 0,\n      name: '',\n      startDate: new Date(),\n      endDate: new Date(),\n      description: '',\n      document: new File([], 'placeholder.txt', {\n        type: 'text/plain'\n      })\n    };\n  }\n  static #_ = this.ɵfac = function HomeComponent_Factory(t) {\n    return new (t || HomeComponent)(i0.ɵɵdirectiveInject(i1.MeetingService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeComponent,\n    selectors: [[\"app-home\"]],\n    decls: 32,\n    vars: 15,\n    consts: [[1, \"container\"], [1, \"mb-4\"], [4, \"ngFor\", \"ngForOf\"], [1, \"mt-4\"], [3, \"submit\"], [1, \"form-group\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"for\", \"startDate\"], [\"type\", \"datetime-local\", \"id\", \"startDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"for\", \"endDate\"], [\"type\", \"datetime-local\", \"id\", \"endDate\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"for\", \"description\"], [\"id\", \"description\", 1, \"form-control\", 3, \"ngModel\", \"ngModelOptions\", \"ngModelChange\"], [\"for\", \"document\"], [\"type\", \"file\", \"id\", \"document\", 1, \"form-control\", 3, \"change\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\"], [\"type\", \"reset\", 1, \"btn\", \"btn-danger\", 3, \"Click\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"btn\", \"btn-primary\", 3, \"click\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n    template: function HomeComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Meetings\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"ul\");\n        i0.ɵɵtemplate(4, HomeComponent_li_4_Template, 16, 8, \"li\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"h2\", 3);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"form\", 4);\n        i0.ɵɵlistener(\"submit\", function HomeComponent_Template_form_submit_7_listener() {\n          return ctx.saveMeeting();\n        });\n        i0.ɵɵelementStart(8, \"div\", 5)(9, \"label\", 6);\n        i0.ɵɵtext(10, \"Meeting Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_11_listener($event) {\n          return ctx.currentMeeting.name = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(12, \"div\", 5)(13, \"label\", 8);\n        i0.ɵɵtext(14, \"Start Date:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 9);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.currentMeeting.startDate = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 5)(17, \"label\", 10);\n        i0.ɵɵtext(18, \"End Date:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"input\", 11);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_input_ngModelChange_19_listener($event) {\n          return ctx.currentMeeting.endDate = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(20, \"div\", 5)(21, \"label\", 12);\n        i0.ɵɵtext(22, \"Description:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"textarea\", 13);\n        i0.ɵɵlistener(\"ngModelChange\", function HomeComponent_Template_textarea_ngModelChange_23_listener($event) {\n          return ctx.currentMeeting.description = $event;\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(24, \"div\", 5)(25, \"label\", 14);\n        i0.ɵɵtext(26, \"Document:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(27, \"input\", 15);\n        i0.ɵɵlistener(\"change\", function HomeComponent_Template_input_change_27_listener($event) {\n          return ctx.onFileChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"button\", 16);\n        i0.ɵɵtext(29);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(30, \"button\", 17);\n        i0.ɵɵlistener(\"Click\", function HomeComponent_Template_button_Click_30_listener() {\n          return ctx.resetForm();\n        });\n        i0.ɵɵtext(31, \" Reset Meeting \");\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngForOf\", ctx.meetings);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\"\", ctx.isEditing ? \"Edit\" : \"Add\", \" Meeting\");\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentMeeting.name)(\"ngModelOptions\", i0.ɵɵpureFunction0(11, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentMeeting.startDate)(\"ngModelOptions\", i0.ɵɵpureFunction0(12, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentMeeting.endDate)(\"ngModelOptions\", i0.ɵɵpureFunction0(13, _c0));\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngModel\", ctx.currentMeeting.description)(\"ngModelOptions\", i0.ɵɵpureFunction0(14, _c0));\n        i0.ɵɵadvance(6);\n        i0.ɵɵtextInterpolate1(\" \", ctx.isEditing ? \"Add\" : \"Update\", \" Meeting \");\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm, i2.DatePipe],\n    styles: [\"body[_ngcontent-%COMP%] {\\n    background-color: #f8f9fa;\\n    padding: 20px;\\n  }\\n\\n  .container[_ngcontent-%COMP%] {\\n    max-width: 800px;\\n    margin: 0 auto;\\n  }\\n\\n  h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%] {\\n    color: #007bff;\\n  }\\n\\n  form[_ngcontent-%COMP%] {\\n    margin-top: 20px;\\n  }\\n\\n  ul[_ngcontent-%COMP%] {\\n    list-style-type: none;\\n    padding: 0;\\n  }\\n\\n  li[_ngcontent-%COMP%] {\\n    background-color: #ffffff;\\n    margin: 10px 0;\\n    padding: 15px;\\n    border-radius: 5px;\\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\\n  }\\n\\n  button[_ngcontent-%COMP%] {\\n    margin-left: 5px;\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvaG9tZS9ob21lLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsYUFBYTtFQUNmOztFQUVBO0lBQ0UsZ0JBQWdCO0lBQ2hCLGNBQWM7RUFDaEI7O0VBRUE7SUFDRSxjQUFjO0VBQ2hCOztFQUVBO0lBQ0UsZ0JBQWdCO0VBQ2xCOztFQUVBO0lBQ0UscUJBQXFCO0lBQ3JCLFVBQVU7RUFDWjs7RUFFQTtJQUNFLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix3Q0FBd0M7RUFDMUM7O0VBRUE7SUFDRSxnQkFBZ0I7RUFDbEIiLCJzb3VyY2VzQ29udGVudCI6WyJib2R5IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO1xuICAgIHBhZGRpbmc6IDIwcHg7XG4gIH1cblxuICAuY29udGFpbmVyIHtcbiAgICBtYXgtd2lkdGg6IDgwMHB4O1xuICAgIG1hcmdpbjogMCBhdXRvO1xuICB9XG5cbiAgaDEsIGgyIHtcbiAgICBjb2xvcjogIzAwN2JmZjtcbiAgfVxuXG4gIGZvcm0ge1xuICAgIG1hcmdpbi10b3A6IDIwcHg7XG4gIH1cblxuICB1bCB7XG4gICAgbGlzdC1zdHlsZS10eXBlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gIH1cblxuICBsaSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICBtYXJnaW46IDEwcHggMDtcbiAgICBwYWRkaW5nOiAxNXB4O1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBib3gtc2hhZG93OiAwIDJweCA0cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBtYXJnaW4tbGVmdDogNXB4O1xuICB9Il0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Meeting","i0","HomeComponent","constructor","meetingService","localUserId","localStorage","getItem","undefined","userId","getAll","onFileChange","event","fileList","target","files","length","currentMeeting","document","subscribe","response","meetings","error","console","log","editMeeting","meeting","isEditing","deleteMeeting","meetingId","delete","saveMeeting","formData","FormData","append","id","toString","name","description","startDate","endDate","updateMeeting","createMeeting","update","create","resetForm","Date","File","type","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/kutayavci/Projects/Alpata/Alpata/Web/src/app/home/home.component.ts","/Users/kutayavci/Projects/Alpata/Alpata/Web/src/app/home/home.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { Meeting } from 'src/Models/Meeting';\nimport { MeetingService } from 'src/services/meeting.service';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.css'],\n})\nexport class HomeComponent {\n  meetings: Meeting[] = [];\n  currentMeeting: Meeting = new Meeting();\n  userId: number;\n  isEditing = false;\n\n  constructor(\n    private meetingService: MeetingService,\n  ) {\n    let localUserId = localStorage.getItem('userId');\n\n    if (localUserId !== null && localUserId !== undefined) {\n      this.userId = +localUserId;\n      this.getAll(this.userId);\n    }\n  }\n\n  onFileChange(event: any) {\n    const fileList: FileList = event.target.files;\n    if (fileList.length > 0) {\n      this.currentMeeting.document = fileList[0];\n    }\n  }\n\n  getAll(userId: number) {\n    this.meetingService.getAll(userId).subscribe(\n      (response) => {\n        this.meetings = response as Meeting[];\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  editMeeting(meeting: Meeting) {\n    this.isEditing = true;\n    this.currentMeeting = { ...meeting };\n  }\n\n  deleteMeeting(meetingId: number) {\n    this.meetingService.delete(meetingId).subscribe(\n      () => {\n        this.getAll(this.userId);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  saveMeeting(){\n    let formData: FormData = new FormData();\n    formData.append('Id', this.currentMeeting.id.toString());\n    formData.append('UserId', this.currentMeeting.userId.toString());\n    formData.append('Name', this.currentMeeting.name);\n    formData.append('Description', this.currentMeeting.description);\n    formData.append('StartDate', this.currentMeeting.startDate.toString());\n    formData.append('EndDate', this.currentMeeting.endDate.toString());\n    formData.append('Document', this.currentMeeting.document);\n\n    if(this.isEditing){\n      this.updateMeeting(formData);\n      return;\n    }\n  \n    this.createMeeting(formData);\n  }\n\n  updateMeeting(meeting: FormData) {\n    this.meetingService.update(meeting).subscribe(\n      () => {\n        this.getAll(this.userId);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  createMeeting(meeting: FormData) {\n    this.meetingService.create(meeting).subscribe(\n      () => {\n        this.getAll(this.userId);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }\n\n  resetForm(): void {\n    this.isEditing = false;\n    this.currentMeeting = {id: 0, userId: 0, name: '', startDate: new Date(), endDate: new Date(), description: '', document: new File([], 'placeholder.txt', { type: 'text/plain' }) };\n  }\n\n}\n","<div class=\"container\">\n  <h1 class=\"mb-4\">Meetings</h1>\n\n  <ul>\n    <li *ngFor=\"let meeting of meetings\">\n      <div class=\"d-flex justify-content-between\">\n        <div>\n          <h4>{{ meeting.name }}</h4>\n          <p>{{ meeting.startDate | date }} to {{ meeting.endDate | date }}</p>\n          <p>{{ meeting.description }}</p>\n        </div>\n        <div>\n          <button class=\"btn btn-primary\" (click)=\"editMeeting(meeting)\">\n            Edit\n          </button>\n          <button class=\"btn btn-danger\" (click)=\"deleteMeeting(meeting.id)\">\n            Delete\n          </button>\n        </div>\n      </div>\n    </li>\n  </ul>\n\n  <h2 class=\"mt-4\">{{ isEditing ? \"Edit\" : \"Add\" }} Meeting</h2>\n  <form (submit)=\"saveMeeting()\">\n    <div class=\"form-group\">\n      <label for=\"name\">Meeting Name:</label>\n      <input\n        type=\"text\"\n        id=\"name\"\n        class=\"form-control\"\n        [(ngModel)]=\"currentMeeting.name\"\n        [ngModelOptions]=\"{ standalone: true }\"\n        required\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"startDate\">Start Date:</label>\n      <input\n        type=\"datetime-local\"\n        id=\"startDate\"\n        class=\"form-control\"\n        [(ngModel)]=\"currentMeeting.startDate\"\n        [ngModelOptions]=\"{ standalone: true }\"\n        required\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"endDate\">End Date:</label>\n      <input\n        type=\"datetime-local\"\n        id=\"endDate\"\n        class=\"form-control\"\n        [(ngModel)]=\"currentMeeting.endDate\"\n        [ngModelOptions]=\"{ standalone: true }\"\n        required\n      />\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"description\">Description:</label>\n      <textarea\n        id=\"description\"\n        class=\"form-control\"\n        [(ngModel)]=\"currentMeeting.description\"\n        [ngModelOptions]=\"{ standalone: true }\"\n      ></textarea>\n    </div>\n\n    <div class=\"form-group\">\n      <label for=\"document\">Document:</label>\n      <input\n        type=\"file\"\n        id=\"document\"\n        class=\"form-control\"\n        (change)=\"onFileChange($event)\"\n      />\n    </div>\n\n    <button type=\"submit\" class=\"btn btn-success\">\n      {{ isEditing ? \"Add\" : \"Update\" }} Meeting\n    </button>\n    <button type=\"reset\" class=\"btn btn-danger\" (Click)=\"resetForm()\">\n      Reset Meeting\n    </button>\n  </form>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}